<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Risk Analyzer - Compare Risk-Adjusted Returns</title>
    <link rel="stylesheet" href="style.css?v=2.8">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        // Redirect from old vercel.app domain to new custom domain
        (function() {
            const oldDomain = 'crypto-risk-analyzer-zeta.vercel.app';
            const newDomain = 'cryptorisk.blocksage.tech';
            
            if (window.location.hostname === oldDomain) {
                // Show redirect message briefly, then redirect
                document.write(`
                    <!DOCTYPE html>
                    <html lang="en">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <meta http-equiv="refresh" content="3;url=https://${newDomain}${window.location.pathname}${window.location.search}">
                        <title>Site Moved - Crypto Risk Analyzer</title>
                        <style>
                            * { margin: 0; padding: 0; box-sizing: border-box; }
                            body {
                                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                                background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
                                color: #e4e7eb;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                min-height: 100vh;
                                padding: 20px;
                            }
                            .container {
                                text-align: center;
                                max-width: 600px;
                                background: rgba(28, 33, 40, 0.9);
                                border: 1px solid rgba(88, 166, 255, 0.2);
                                border-radius: 16px;
                                padding: 40px;
                                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
                            }
                            h1 {
                                font-size: 2rem;
                                margin-bottom: 20px;
                                background: linear-gradient(135deg, #667eea 0%, #58a6ff 100%);
                                -webkit-background-clip: text;
                                -webkit-text-fill-color: transparent;
                            }
                            p {
                                font-size: 1.1rem;
                                line-height: 1.6;
                                margin-bottom: 30px;
                                color: #cbd5e1;
                            }
                            .new-url {
                                font-size: 1.3rem;
                                font-weight: 600;
                                color: #58a6ff;
                                margin: 20px 0;
                                word-break: break-all;
                            }
                            .redirect-link {
                                display: inline-block;
                                padding: 14px 28px;
                                background: linear-gradient(135deg, #667eea 0%, #58a6ff 100%);
                                color: white;
                                text-decoration: none;
                                border-radius: 8px;
                                font-weight: 600;
                                font-size: 1.1rem;
                                transition: transform 0.2s, box-shadow 0.2s;
                                margin-top: 20px;
                            }
                            .redirect-link:hover {
                                transform: translateY(-2px);
                                box-shadow: 0 8px 24px rgba(88, 166, 255, 0.4);
                            }
                            .countdown {
                                margin-top: 20px;
                                font-size: 0.9rem;
                                color: #94a3b8;
                            }
                        </style>
                    </head>
                    <body>
                        <div class="container">
                            <h1>üöÄ Site Has Moved</h1>
                            <p>The Crypto Risk Analyzer is now available at our new domain:</p>
                            <div class="new-url">${newDomain}</div>
                            <p>You will be automatically redirected in a few seconds.</p>
                            <a href="https://${newDomain}${window.location.pathname}${window.location.search}" class="redirect-link">Go to New Site ‚Üí</a>
                            <div class="countdown">Redirecting automatically...</div>
                        </div>
                        <script>
                            // Immediate redirect as fallback
                            setTimeout(function() {
                                window.location.href = 'https://${newDomain}${window.location.pathname}${window.location.search}';
                            }, 100);
                        <\/script>
                    </body>
                    </html>
                `);
                document.close();
            }
        })();
    </script>
</head>
<body>
    <!-- Initial Page Load Screen -->
    <div id="initialLoader" class="initial-loader">
        <div class="loader-content">
            <div class="loader-logo">
                <div class="logo-circle"></div>
                <div class="logo-pulse"></div>
            </div>
            <h1 class="loader-title">Crypto Risk Analyzer</h1>
            <div class="loader-subtitle">Calculate traditional risk metrics for digital assets</div>
            <div class="loader-progress">
                <div class="loader-progress-bar"></div>
            </div>
            <button id="enterButton" class="loader-enter-button hidden">Enter</button>
            <div class="loader-particles">
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
            </div>
        </div>
    </div>

    <div class="container" id="mainContent">
        <div class="card">
            <h2>Choose assets to analyze</h2>
            <p class="form-tip"><span class="tip-icon">üí°</span> Example assets are loaded by default.<br>Search, edit, or randomize your selection.</p>
            <form id="analysisForm">
                <div id="tokensContainer">
                    <div class="token-input-group" data-token-index="0">
                        <div class="form-group flowy-input-group">
                            <div class="asset-display-wrapper">
                                <div class="asset-left-section">
                                    <div class="asset-logo-container">
                                        <img class="asset-logo" id="token0-logo" src="" alt="" style="display: none;">
                                        <span class="asset-ticker-below" id="token0-ticker-below" style="display: none;"></span>
                                    </div>
                                    <div class="asset-input-container">
                                        <div class="token-input-wrapper flowy-wrapper">
                                            <input type="text" class="token-input flowy-input" id="token0" name="token0" value="bitcoin" placeholder="Enter asset name or symbol..." required>
                                            <button type="button" class="btn-remove-token" aria-label="Clear input">√ó</button>
                                        </div>
                                        <span class="xstock-caution-icon" id="token0-xstock-caution" style="display: none;" title="Click for xStock disclaimer">‚ö†Ô∏è</span>
                                    </div>
                                </div>
                                <div class="asset-chart-section" id="token0-chart-section" style="display: none;">
                                    <div class="asset-chart-container">
                                        <div class="chart-labels" id="token0-chart-labels"></div>
                                        <canvas id="token0-chart" class="asset-chart"></canvas>
                                    </div>
                                    <div class="asset-price-wrapper">
                                        <span class="asset-price-label">Current Price</span>
                                        <span class="asset-price-chart" id="token0-price"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="token-input-group" data-token-index="1">
                        <div class="form-group flowy-input-group">
                            <div class="asset-display-wrapper">
                                <div class="asset-left-section">
                                    <div class="asset-logo-container">
                                        <img class="asset-logo" id="token1-logo" src="" alt="" style="display: none;">
                                        <span class="asset-ticker-below" id="token1-ticker-below" style="display: none;"></span>
                                    </div>
                                    <div class="asset-input-container">
                                        <div class="token-input-wrapper flowy-wrapper">
                                            <input type="text" class="token-input flowy-input" id="token1" name="token1" value="ethereum" placeholder="Enter asset name or symbol..." required>
                                            <button type="button" class="btn-remove-token" aria-label="Clear input">√ó</button>
                                        </div>
                                        <span class="xstock-caution-icon" id="token1-xstock-caution" style="display: none;" title="Click for xStock disclaimer">‚ö†Ô∏è</span>
                                    </div>
                                </div>
                                <div class="asset-chart-section" id="token1-chart-section" style="display: none;">
                                    <div class="asset-chart-container">
                                        <div class="chart-labels" id="token1-chart-labels"></div>
                                        <canvas id="token1-chart" class="asset-chart"></canvas>
                                    </div>
                                    <div class="asset-price-wrapper">
                                        <span class="asset-price-label">Current Price</span>
                                        <span class="asset-price-chart" id="token1-price"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="token-input-group token-input-group-optional" data-token-index="2">
                        <div class="form-group flowy-input-group">
                            <div class="asset-display-wrapper">
                                <div class="asset-left-section">
                                    <div class="asset-logo-container">
                                        <img class="asset-logo" id="token2-logo" src="" alt="" style="display: none;">
                                        <span class="asset-ticker-below" id="token2-ticker-below" style="display: none;"></span>
                                    </div>
                                    <div class="asset-input-container">
                                        <div class="token-input-wrapper flowy-wrapper token-input-wrapper-optional">
                                            <input type="text" class="token-input flowy-input token-input-optional" id="token2" name="token2" placeholder="Type here to search or Try Random below">
                                            <button type="button" class="btn-remove-token" aria-label="Clear input">√ó</button>
                                        </div>
                                        <span class="xstock-caution-icon" id="token2-xstock-caution" style="display: none;" title="Click for xStock disclaimer">‚ö†Ô∏è</span>
                                    </div>
                                </div>
                                <div class="asset-chart-section" id="token2-chart-section" style="display: none;">
                                    <div class="asset-chart-container">
                                        <div class="chart-labels" id="token2-chart-labels"></div>
                                        <canvas id="token2-chart" class="asset-chart"></canvas>
                                    </div>
                                    <div class="asset-price-wrapper">
                                        <span class="asset-price-label">Current Price</span>
                                        <span class="asset-price-chart" id="token2-price"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="optional-asset-actions">
                                <button type="button" class="btn-random-stock" id="randomStockBtn" aria-label="Add random stock">
                                    <span class="random-icon">üìà</span> Try a Random Stock
                                    <span class="info-icon-stock" data-tooltip="xstock">‚ìò</span>
                                </button>
                                <button type="button" class="btn-random-crypto" id="randomCryptoBtn" aria-label="Add random crypto">
                                    <span class="random-icon">üé≤</span> Try a Random Crypto
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label for="timeframe">Timeframe</label>
                    <select id="timeframe" name="timeframe">
                        <option value="30">30 days</option>
                        <option value="90">90 days</option>
                        <option value="365" selected>1 year</option>
                        <option value="1095">3 years</option>
                        <option value="1825">5 years</option>
                        <option value="3650">10 years</option>
                    </select>
                    <small>1+ year requires Pro API key</small>
                </div>

                <button type="submit" class="btn-primary" id="analyzeBtn">
                    <span class="btn-text">Analyze</span>
                </button>
                
                <!-- Button Loading State -->
                <div id="btnLoading" class="btn-loading hidden">
                    <div class="btn-loading-content">
                        <div class="btn-spinner"></div>
                        <div class="btn-loading-text">
                            <div class="loading-message">Analyzing...</div>
                            <div class="loading-details" id="loadingDetails">Fetching price data</div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
            <p>Fetching data and calculating risk metrics...</p>
        </div>

        <div id="results" class="results hidden">
            <div class="card">
                <h2>Analysis Results</h2>

                <div id="resultsContainer">
                    <!-- Results will be dynamically generated here -->
                </div>
            </div>
        </div>

        <div id="error" class="error hidden"></div>
        
        <footer class="site-footer">
            <div class="footer-section">
                <h4 class="footer-section-title">About</h4>
                <p class="footer-text">
                    I built this site primarily for my own use: to better understand the risks associated with investing in digital assets. I hope this site may also be useful to others: investors who utilize fundamental and technical analysis to inform their&nbsp;investment decisions. Many traditional measures of risk and return such as PE, Dividend Yield, and Beta don't apply 1:1 to digital assets. My goal is that using this site to analyze digital assets in terms of familiar risk/return metrics can help better inform investors who are interested in&nbsp;crypto.
                </p>
            </div>
            <div class="footer-section">
                <h4 class="footer-section-title">Disclaimer</h4>
                <p class="footer-text">
                    This tool is for informational and educational purposes only. The data, calculations, and analysis provided are not investment advice, financial advice, trading advice, or any other type of advice. Past performance does not guarantee future results. Always validate results independently and consult with qualified financial advisors before making investment decisions. Cryptocurrency investments carry significant risk and may result in total loss.
                </p>
            </div>
            <div class="footer-contact">
                <p class="footer-contact-text">Contact: <a href="mailto:sage.algo@proton.me" class="footer-contact-link">sage.algo@proton.me</a></p>
            </div>
        </footer>
    </div>

    <script src="script.js?v=4.25"></script>
</body>
</html>

